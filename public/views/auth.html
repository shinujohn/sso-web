<html>
<head>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script>
        $(document).ready(function () {
            $.get('/auth/osctoken', function (token) {
                // http://caniuse.com/#search=localStorage
                /*
                In iOS 5 & 6 localStorage data is stored in a location that may occasionally be cleared out by the OS.
                In private browsing mode, Safari, iOS Safari and the Android browsers do not support setting sessionStorage or localStorage.
                */
                if ((window.localStorage)) {
                    localStorage.setItem('auth', token);

                    window.location.href = '/';
                }
                else {
                    alert('local storage not available');
                }
            });
        });
    </script>
</head>
<body>
    <p>Authenticating...</p>
</body>
</html>